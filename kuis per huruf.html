<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game Tebak Kategori Kata</title>
    <!-- Memuat Tailwind CSS untuk styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Memuat Google Fonts untuk tampilan yang lebih baik -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            -webkit-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }
        .answer-input {
            transition: border-color 0.3s, transform 0.2s;
        }
        /* Saat input di-klik (focus), naikkan z-index agar bordernya tampil di atas tetangganya */
        .answer-input:focus {
            transform: scale(1.05);
            border-color: #3b82f6; /* blue-500 */
            z-index: 10;
        }
        .correct {
            border-color: #22c55e !important; /* green-500 */
            background-color: #dcfce7 !important; /* green-100 */
            color: #15803d; /* green-700 */
            z-index: 5;
        }
        .incorrect {
            border-color: #ef4444 !important; /* red-500 */
            background-color: #fee2e2 !important; /* red-100 */
            color: #b91c1c; /* red-700 */
            z-index: 5;
        }
        #toast {
            transition: opacity 0.3s ease-in-out, transform 0.3s ease-in-out;
        }
    </style>
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen p-4">

    <!-- Kontainer utama game -->
    <div class="bg-white w-full max-w-lg p-6 sm:p-8 rounded-2xl shadow-xl text-center">
        <h1 class="text-2xl sm:text-3xl font-bold text-gray-800 mb-2">Game Tebak Kategori Kata</h1>
        <p class="text-gray-500 mb-6">Tebak kategori dari kosakata di bawah ini.</p>

        <!-- Area Pertanyaan -->
        <div class="mb-6">
            <p class="text-gray-600 mb-2">Kosakata:</p>
            <div id="question-word" class="inline-block text-3xl font-bold text-blue-600 cursor-pointer hover:text-blue-800 transition-colors duration-300 p-2 rounded-lg">
                <!-- Kata akan dimuat di sini -->
            </div>
        </div>

        <!-- Area Input Jawaban (gap dihilangkan) -->
        <div id="answer-inputs-container" class="flex justify-center mb-6">
            <!-- Input per huruf akan dimuat di sini -->
        </div>
        
        <!-- Area Tombol Bantuan Huruf -->
        <div id="letter-buttons-container" class="flex justify-center flex-wrap gap-2 mb-6">
            <!-- Tombol huruf akan dimuat di sini -->
        </div>

        <!-- Area Pesan Feedback -->
        <div id="feedback-message" class="font-medium h-6 mb-4">
            <!-- Pesan feedback akan muncul di sini -->
        </div>

        <!-- Tombol Aksi -->
        <div class="flex flex-col sm:flex-row gap-3">
            <button id="check-button" class="w-full bg-green-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-green-700 focus:outline-none focus:ring-4 focus:ring-green-300 transition-all duration-300 shadow-md">
                Cek Jawaban
            </button>
            <button id="random-button" class="w-full bg-gray-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-gray-700 focus:outline-none focus:ring-4 focus:ring-gray-300 transition-all duration-300 shadow-md">
                Acak Pertanyaan
            </button>
        </div>
    </div>

    <!-- Toast untuk menampilkan arti kata -->
    <div id="toast" class="fixed bottom-5 right-5 bg-gray-800 text-white py-3 px-5 rounded-lg shadow-lg opacity-0 transform translate-y-2">
        <!-- Arti kata akan muncul di sini -->
    </div>

    <script>
        // Data kosakata tidak berubah
        const vocabularyList = [
            { word: "solution", translation: "solusi", partOfSpeech: "Noun" }, { word: "patience", translation: "kesabaran", partOfSpeech: "Noun" },
            { word: "wisdom", translation: "kebijaksanaan", partOfSpeech: "Noun" }, { word: "justice", translation: "keadilan", partOfSpeech: "Noun" },
            { word: "heritage", translation: "warisan", partOfSpeech: "Noun" },
            { word: "myself", translation: "diriku sendiri", partOfSpeech: "Pronoun" }, { word: "yourself", translation: "dirimu sendiri", partOfSpeech: "Pronoun" },
            { word: "ourselves", translation: "diri kami sendiri", partOfSpeech: "Pronoun" }, { word: "whoever", translation: "siapapun", partOfSpeech: "Pronoun" },
            { word: "several", translation: "beberapa", partOfSpeech: "Pronoun" },
            { word: "organize", translation: "mengatur", partOfSpeech: "Verb" }, { word: "motivate", translation: "memotivasi", partOfSpeech: "Verb" },
            { word: "simplify", translation: "menyederhanakan", partOfSpeech: "Verb" }, { word: "generate", translation: "menghasilkan", partOfSpeech: "Verb" },
            { word: "appreciate", translation: "menghargai", partOfSpeech: "Verb" },
            { word: "sincere", translation: "tulus", partOfSpeech: "Adjective" }, { word: "elegant", translation: "elegan", partOfSpeech: "Adjective" },
            { word: "hilarious", translation: "lucu sekali", partOfSpeech: "Adjective" }, { word: "peaceful", translation: "damai", partOfSpeech: "Adjective" },
            { word: "ambitious", translation: "ambisius", partOfSpeech: "Adjective" },
            { word: "gradually", translation: "secara bertahap", partOfSpeech: "Adverb" }, { word: "sincerely", translation: "dengan tulus", partOfSpeech: "Adverb" },
            { word: "immediately", translation: "segera", partOfSpeech: "Adverb" }, { word: "elsewhere", translation: "di tempat lain", partOfSpeech: "Adverb" },
            { word: "merrily", translation: "dengan riang", partOfSpeech: "Adverb" },
            { word: "throughout", translation: "di seluruh", partOfSpeech: "Preposition" }, { word: "underneath", translation: "di bawah", partOfSpeech: "Preposition" },
            { word: "concerning", translation: "mengenai", partOfSpeech: "Preposition" }, { word: "regarding", translation: "mengenai", partOfSpeech: "Preposition" },
            { word: "unlike", translation: "tidak seperti", partOfSpeech: "Preposition" },
            { word: "although", translation: "meskipun", partOfSpeech: "Conjunction" }, { word: "while", translation: "sementara", partOfSpeech: "Conjunction" },
            { word: "unless", translation: "kecuali jika", partOfSpeech: "Conjunction" }, { word: "provided", translation: "asalkan", partOfSpeech: "Conjunction" },
            { word: "nonetheless", translation: "namun", partOfSpeech: "Conjunction" },
            { word: "Bravo!", translation: "Bagus!", partOfSpeech: "Interjection" }, { word: "Cheers!", translation: "Sorak!", partOfSpeech: "Interjection" },
            { word: "Ouch!", translation: "Aduh!", partOfSpeech: "Interjection" }, { word: "Oops!", translation: "Ups!", partOfSpeech: "Interjection" },
            { word: "Well!", translation: "Nah!", partOfSpeech: "Interjection" },
        ];

        const questionWordEl = document.getElementById('question-word');
        const answerInputsContainer = document.getElementById('answer-inputs-container');
        const letterButtonsContainer = document.getElementById('letter-buttons-container');
        const feedbackMessageEl = document.getElementById('feedback-message');
        const checkButton = document.getElementById('check-button');
        const randomButton = document.getElementById('random-button');
        const toastEl = document.getElementById('toast');

        let currentWordData = {};
        let toastTimeout;

        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        function startNewRound() {
            answerInputsContainer.innerHTML = '';
            letterButtonsContainer.innerHTML = '';
            feedbackMessageEl.textContent = '';

            shuffleArray(vocabularyList);
            currentWordData = vocabularyList[0];
            const answer = currentWordData.partOfSpeech.toUpperCase();

            questionWordEl.textContent = currentWordData.word;

            for (let i = 0; i < answer.length; i++) {
                const input = document.createElement('input');
                input.type = 'text';
                input.maxLength = 1;
                input.dataset.index = i;
                input.readOnly = true;
                input.setAttribute('inputmode', 'none');

                // --- LOGIKA BARU UNTUK TAMPILAN MENYATU ---
                let classString = 'answer-input relative w-8 h-9 text-lg font-bold text-center border-2 border-gray-300 focus:outline-none';
                
                // Tambahkan margin negatif ke semua elemen KECUALI yang pertama
                // Ini membuat border saling tumpang tindih (overlap)
                if (i > 0) {
                    classString += ' -ml-[2px]';
                }

                // Terapkan sudut lengkung hanya pada elemen pertama dan terakhir
                if (answer.length === 1) {
                    classString += ' rounded-md'; // Jika hanya ada satu kotak
                } else if (i === 0) {
                    classString += ' rounded-l-md'; // Kotak pertama
                } else if (i === answer.length - 1) {
                    classString += ' rounded-r-md'; // Kotak terakhir
                } else {
                    classString += ' rounded-none'; // Kotak di tengah
                }
                
                input.className = classString;
                answerInputsContainer.appendChild(input);
            }

            const uniqueLetters = [...new Set(answer.split(''))];
            const alphabet = "ABCDEFGHIJKLMNOPQRSTUVWXYZ".split('');
            while (uniqueLetters.length < 10 && uniqueLetters.length < alphabet.length) {
                const randomLetter = alphabet[Math.floor(Math.random() * alphabet.length)];
                if (!uniqueLetters.includes(randomLetter)) {
                    uniqueLetters.push(randomLetter);
                }
            }
            shuffleArray(uniqueLetters);

            uniqueLetters.forEach(letter => {
                const button = document.createElement('button');
                button.textContent = letter;
                button.className = 'w-10 h-10 bg-gray-200 text-gray-700 font-bold rounded-md hover:bg-gray-300';
                letterButtonsContainer.appendChild(button);
            });
            
            setupInputListeners();
        }
        
        function setupInputListeners() {
            const inputs = answerInputsContainer.querySelectorAll('input');
            letterButtonsContainer.querySelectorAll('button').forEach(button => {
                button.addEventListener('click', () => {
                    const firstEmptyInput = Array.from(inputs).find(input => !input.value);
                    if (firstEmptyInput) {
                        firstEmptyInput.value = button.textContent;
                    }
                });
            });
            inputs.forEach(input => {
                input.addEventListener('click', () => {
                    input.value = '';
                });
            });
        }

        function checkAnswer() {
            const inputs = answerInputsContainer.querySelectorAll('input');
            const userAnswer = Array.from(inputs).map(input => input.value).join('');
            const correctAnswer = currentWordData.partOfSpeech.toUpperCase();

            inputs.forEach(input => input.classList.remove('correct', 'incorrect'));

            if (userAnswer === correctAnswer) {
                feedbackMessageEl.textContent = 'Benar! Jawaban yang hebat!';
                feedbackMessageEl.className = 'font-medium h-6 mb-4 text-green-600';
                inputs.forEach(input => input.classList.add('correct'));
                setTimeout(startNewRound, 1500);
            } else {
                feedbackMessageEl.textContent = 'Jawaban salah, coba lagi!';
                feedbackMessageEl.className = 'font-medium h-6 mb-4 text-red-600';
                inputs.forEach(input => input.classList.add('incorrect'));
            }
        }

        function showToast() {
            if (toastTimeout) clearTimeout(toastTimeout);
            toastEl.textContent = `${currentWordData.word}: ${currentWordData.translation}`;
            toastEl.classList.remove('opacity-0', 'translate-y-2');
            toastEl.classList.add('opacity-100', 'translate-y-0');
            toastTimeout = setTimeout(() => {
                toastEl.classList.remove('opacity-100', 'translate-y-0');
                toastEl.classList.add('opacity-0', 'translate-y-2');
            }, 3000);
        }

        checkButton.addEventListener('click', checkAnswer);
        randomButton.addEventListener('click', startNewRound);
        questionWordEl.addEventListener('click', showToast);

        startNewRound();
    </script>
</body>
</html>

