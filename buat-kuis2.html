<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Buat Pertanyaan Baru — Petualangan Luar Angkasa</title>
  <link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@400;700;800&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg-space: #0f0c29;
      --card-bg: rgba(255, 255, 255, 0.1);
      --border-color: rgba(255, 255, 255, 0.2);
      --accent1: #ff7e5f;
      --accent2: #feb47b;
      --accent3: #8697ff;
      --accent4: #48dbfb;
      --text-light: #ffffff;
      --text-dark: #2c3e50;
      --btn-yellow: #feca57;
    }
    *{box-sizing:border-box; scroll-behavior: smooth;}
    body{
      font-family:'Baloo 2',sans-serif;
      margin:0;
      background-color: var(--bg-space);
      color: var(--text-light);
      min-height:100vh; 
      padding:20px;
      overflow-x: hidden;
    }
    #starfield {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: -1;
    }
    .wrap{max-width:900px;margin:20px auto}
    header{display:flex;justify-content:space-between; align-items:center;margin-bottom:20px;flex-wrap:wrap;gap: 15px;}
    .header-title{display:flex;gap:15px;align-items:center;}
    .header-title .logo-icon{background:linear-gradient(45deg, var(--accent3), var(--accent4));padding:12px;border-radius:16px;box-shadow:0 6px 20px rgba(0,0,0,0.2);}
    h1{margin:0;font-size:1.8rem; text-shadow: 0 2px 4px rgba(0,0,0,0.3);}
    .card{
        background: var(--card-bg);
        border: 1px solid var(--border-color);
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
        border-radius:20px;
        padding:25px;
        box-shadow:0 8px 32px 0 rgba(0,0,0,0.3);
        margin-bottom:20px
    }
    label{display:block;font-weight:700;margin-bottom:8px;font-size: 1.1rem;}
    input[type=text], input[type=url], input[type=number], textarea, select{
      width:100%;
      padding:12px 15px;
      border-radius:12px;
      border: 1px solid var(--border-color);
      background: rgba(255,255,255,0.1);
      font-size:1rem;
      color: var(--text-light);
      font-family: 'Baloo 2', sans-serif;
    }
    textarea{min-height:80px;resize:vertical}
    select { appearance: none; -webkit-appearance: none; background-image: url('data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%23ffffff%22%20d%3D%22M287%2069.4a17.6%2017.6%200%200%200-13-5.4H18.4c-5%200-9.3%201.8-12.9%205.4A17.6%2017.6%200%200%200%200%2082.2c0%205%201.8%209.3%205.4%2012.9l128%20127.9c3.6%203.6%207.8%205.4%2012.8%205.4s9.2-1.8%2012.8-5.4L287%2095c3.5-3.5%205.4-7.8%205.4-12.8%200-5-1.9-9.2-5.5-12.8z%22/%3E%3C/svg%3E'); background-repeat: no-repeat; background-position: right 15px center; background-size: .65em auto; padding-right: 2em; }
    input::placeholder, textarea::placeholder { color: rgba(255,255,255,0.5); }
    .grid{display:grid;grid-template-columns:1fr 320px;gap:20px}
    .btn{display:inline-block;padding:12px 20px;border-radius:14px;border:none;font-weight:800;cursor:pointer;font-size:1rem; text-decoration: none; text-align: center; transition: all 0.3s ease;}
    .btn-submit{background:linear-gradient(45deg, var(--accent1), var(--accent2)); color:white; box-shadow: 0 4px 15px rgba(0,0,0,0.2);}
    .btn-submit:disabled { background: #555; cursor: not-allowed; box-shadow: none; }
    .btn-submit:hover:not(:disabled) { transform: translateY(-2px); box-shadow: 0 6px 20px rgba(254, 180, 123, 0.4); }
    .btn-neutral{background:rgba(255,255,255,0.15); color:white;}
    .btn-ghost { background: transparent; border: 2px dashed var(--border-color); color: white; }
    .section-title{font-weight:800;font-size: 1.4rem; margin-bottom:15px; border-left: 4px solid var(--accent4); padding-left: 10px;}
    .submit-row{display:flex;justify-content:space-between;align-items:center;gap:10px;margin-top:20px;flex-wrap:wrap}
    .file-attach-area { border: 2px dashed var(--border-color); border-radius: 12px; padding: 15px; text-align: center; }
    input[type=file] { display: none; }
    .file-label { cursor: pointer; background: var(--accent3); color: white; padding: 10px 15px; border-radius: 10px; display: inline-block; }
    .file-name { margin-top: 10px; font-size: 0.9rem; color: rgba(255,255,255,0.7); }
    .answer-card { padding: 15px; background: rgba(0,0,0,0.2); border-radius: 12px; margin-bottom: 10px; position: relative; }
    .btn-remove-choice { position: absolute; top: 10px; right: 10px; color: var(--accent1); font-size: 1.8rem; background: none; border: none; cursor: pointer; z-index: 5;}
    .pg-image-preview { width: 60px; height: 60px; background: rgba(0,0,0,0.2); border-radius: 8px; margin-top: 10px; background-size: cover; background-position: center; }
    .choice-row { display: flex; flex-wrap: wrap; gap: 15px; align-items: flex-start; }
    .choice-main { display: flex; gap: 15px; align-items: flex-start; flex: 3 1 300px; }
    .choice-media { flex: 1 1 150px; text-align: center; }

    .fab-home {
        position: fixed;
        bottom: 30px;
        right: 30px;
        width: 60px;
        height: 60px;
        background-color: var(--btn-yellow);
        color: var(--text-dark);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.8rem;
        text-decoration: none;
        box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        z-index: 1000;
        transition: transform 0.3s ease;
    }
    .fab-home:hover { transform: scale(1.1); }

    @media(max-width:780px){.grid{grid-template-columns:1fr}.right-column{order:-1}}
    .message{padding:12px;border-radius:12px;margin-top:15px;font-weight:700;font-size:1rem;}
    .message.success{background:rgba(46, 204, 113, 0.8);color:white}
    .message.error{background:rgba(231, 76, 60, 0.8);color:white}
    .preview-media{border-radius:12px;min-height:48px;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,0.2);}
    .note { font-size: 0.9rem; color: rgba(255,255,255,0.7); margin-bottom: 15px; }
  </style>
</head>
<body>
  <canvas id="starfield"></canvas>

  <div class="wrap">
    <header>
      <div class="header-title">
        <div class="logo-icon">
            <svg width="36" height="36" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z" fill="white"/></svg>
        </div>
        <h1>Buat Soal Kuis</h1>
      </div>
    </header>
    
    <div class="grid">
      <main>
        <form id="question-form" class="card" autocomplete="off">
            <div class="section-title">Informasi Soal</div>
            <label for="pertanyaan-teks">Tulis Pertanyaan</label>
            <textarea id="pertanyaan-teks" placeholder="Contoh: Planet manakah yang paling dekat dengan Matahari?"></textarea>
            
            <div style="display:flex; gap: 20px; margin-top: 20px; flex-wrap: wrap;">
              <div style="flex:1; min-width: 200px;">
                <label for="kategori-pilihan">Kategori Mata Pelajaran</label>
                <select id="kategori-pilihan">
                  <option value="">-- Pilih Mata Pelajaran --</option>
                  <option value="matematika">Matematika</option>
                  <option value="bahasa_indonesia">Bahasa Indonesia</option>
                  <option value="bahasa_inggris">Bahasa Inggris</option>
                  <option value="ipa">Ilmu Pengetahuan Alam</option>
                  <option value="agama_islam">Agama Islam</option>
                  <option value="ips">Ilmu Sosial</option>
                  <option value="sejarah">Sejarah</option>
                  <option value="pkn">Kewarganegaraan</option>
                  <option value="basa_sunda">Basa Sunda</option>
                  <option value="olahraga">Olahraga</option>
                  <option value="seni">Seni</option>
                  <option value="campuran_seru">Campuran Seru</option>
                </select>
              </div>
              <div style="flex:1; min-width: 200px;">
                <label for="tipe-soal">Tipe Soal</label>
                <select id="tipe-soal">
                  <option value="pilihan_ganda">Pilihan Ganda</option>
                  <option value="esai">Esai</option>
                  <option value="pencocokan">Pencocokan</option>
                  <option value="susun_kata">Susun Kata</option>
                  <option value="multi_benar">Beberapa Jawaban Benar</option>
                  <option value="benar_salah">Benar / Salah</option>
                  <option value="tts_mini">TTS Mini</option>
                </select>
              </div>
            </div>
            
            <hr style="border:none; height:1px; background: var(--border-color); margin: 30px 0;">
            <div class="section-title">Media Pertanyaan (Opsional)</div>
            <div style="display:flex; gap: 20px; flex-wrap: wrap;">
                <div style="flex:1; min-width: 200px;">
                    <label>Attach Gambar</label>
                    <div class="file-attach-area">
                        <label for="file-image" class="file-label">Pilih Gambar</label>
                        <input type="file" id="file-image" accept="image/*">
                        <div class="file-name" id="file-image-name">Belum ada file dipilih</div>
                    </div>
                </div>
                <div style="flex:1; min-width: 200px;">
                    <label>Attach Audio</label>
                    <div class="file-attach-area">
                        <label for="file-audio" class="file-label">Pilih Audio</label>
                        <input type="file" id="file-audio" accept="audio/*">
                        <div class="file-name" id="file-audio-name">Belum ada file dipilih</div>
                    </div>
                </div>
            </div>

            <hr style="border:none; height:1px; background: var(--border-color); margin: 30px 0;">

            <div id="dynamic-area"></div>

            <div class="submit-row">
              <button type="button" id="btn-preview" class="btn btn-neutral">Pratinjau</button>
              <div>
                <button type="button" id="btn-reset" class="btn btn-neutral" style="margin-right: 10px;">Reset</button>
                <button type="submit" id="btn-save" class="btn btn-submit">Simpan Pertanyaan</button>
              </div>
            </div>
            <div id="form-message" class="message" style="display:none"></div>
        </form>
      </main>

      <aside class="right-column">
        <div class="card">
          <div class="section-title">Status</div>
          <div id="quota-display" style="font-weight:bold; margin-bottom:15px; color: var(--accent4);">Memeriksa kuota...</div>
          <hr style="border-color: var(--border-color); margin-bottom: 15px;">
          <div class="section-title">Panduan</div>
          <div id="guide-text" class="note" style="line-height: 1.6;">Panduan akan muncul di sini sesuai tipe soal.</div>
          <hr style="border-color: var(--border-color); margin: 15px 0;">
          <div class="section-title">Preview Media</div>
          <div id="preview-media" class="preview-media">Tidak ada media</div>
        </div>
      </aside>
    </div>
  </div>
  
  <a href="index.html" class="fab-home">🏠</a>

<script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
    import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";
    import { getFirestore, collection, doc, Timestamp, writeBatch, getDoc, getDocs, query } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";

    // --- Canvas Starfield Animation ---
    const canvas = document.getElementById('starfield');
    const ctx = canvas.getContext('2d');
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
    let stars = []; for (let i = 0; i < 200; i++) { stars.push({ x: Math.random() * canvas.width, y: Math.random() * canvas.height, radius: Math.random() * 1.5, vx: Math.floor(Math.random() * 50) - 25, vy: Math.floor(Math.random() * 50) - 25 }); }
    function drawStars() { ctx.clearRect(0, 0, canvas.width, canvas.height); ctx.globalCompositeOperation = "lighter"; for (let i = 0, x = stars.length; i < x; i++) { let s = stars[i]; ctx.fillStyle = "#fff"; ctx.beginPath(); ctx.arc(s.x, s.y, s.radius, 0, 2 * Math.PI); ctx.fill(); } }
    function updateStars() { for (let i = 0, x = stars.length; i < x; i++) { let s = stars[i]; s.x += s.vx / 60; s.y += s.vy / 60; if (s.x < 0 || s.x > canvas.width) s.vx = -s.vx; if (s.y < 0 || s.y > canvas.height) s.vy = -s.vy; } }
    function tick() { drawStars(); updateStars(); requestAnimationFrame(tick); }
    tick();
    window.addEventListener('resize', () => { canvas.width = window.innerWidth; canvas.height = window.innerHeight; });

    // --- Firebase and DOM Setup ---
    const firebaseConfig = { apiKey: "AIzaSyA6zXOerKvdPJTmBp5Y6R2yFsy98xLDsKc", authDomain: "forumwidara.firebaseapp.com", projectId: "forumwidara", storageBucket: "forumwidara.appspot.com", messagingSenderId: "216895655168", appId: "1:216895655168:web:59255f600fc3b3b44eb7e5" };
    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);
    const db = getFirestore(app);

    const tipeSoal = document.getElementById('tipe-soal');
    const dynamicArea = document.getElementById('dynamic-area');
    const btnSave = document.getElementById('btn-save');
    const formMessage = document.getElementById('form-message');
    const quotaDisplay = document.getElementById('quota-display');
    const guideText = document.getElementById('guide-text');
    
    let currentUser = null;
    let userProfile = null;
    let pendingUploads = { questionImage: null, questionAudio: null, optionImages: {} };
    const QUESTION_LIMIT = 5;
    
    // --- File Input Handlers ---
    function setupFileInput(inputId, nameDisplayId) {
        const input = document.getElementById(inputId);
        const nameDisplay = document.getElementById(nameDisplayId);
        input.addEventListener('change', () => {
            if (input.files.length > 0) {
                const file = input.files[0];
                nameDisplay.textContent = file.name;
                if (inputId === 'file-image') pendingUploads.questionImage = file;
                if (inputId === 'file-audio') pendingUploads.questionAudio = file;
            } else {
                nameDisplay.textContent = 'Belum ada file dipilih';
                if (inputId === 'file-image') pendingUploads.questionImage = null;
                if (inputId === 'file-audio') pendingUploads.questionAudio = null;
            }
        });
    }
    setupFileInput('file-image', 'file-image-name');
    setupFileInput('file-audio', 'file-audio-name');

    // --- Helper Functions ---
    function showFormMessage(type, text, isPermanent = false) { formMessage.className = 'message ' + (type === 'ok' ? 'success' : 'error'); formMessage.textContent = text; formMessage.style.display = 'block'; if (!isPermanent) { setTimeout(() => formMessage.style.display = 'none', 5000); } }
    
    async function uploadToCloudinary(file, resourceType='image'){
      const CLOUDINARY_CLOUD_NAME = "ganti-dengan-cloud-name-anda"; 
      const CLOUDINARY_UPLOAD_PRESET = "ganti-dengan-upload-preset-anda";
      if (CLOUDINARY_CLOUD_NAME === "ganti-dengan-cloud-name-anda") { throw new Error('Konfigurasi Cloudinary belum diatur.'); }
      const url = `https://api.cloudinary.com/v1_1/${CLOUDINARY_CLOUD_NAME}/${resourceType}/upload`;
      const fd = new FormData();
      fd.append('file', file);
      if(CLOUDINARY_UPLOAD_PRESET !== "ganti-dengan-upload-preset-anda") { fd.append('upload_preset', CLOUDINARY_UPLOAD_PRESET); }
      const res = await fetch(url, { method:'POST', body:fd });
      if(!res.ok) throw new Error(`Upload gagal: ${res.statusText}`);
      const j = await res.json();
      return j.secure_url || j.url;
    }
    
    // --- PERUBAHAN 1: Fungsi baru untuk mencari persilangan TTS ---
    function findIntersection(word1, word2) {
        const w1 = word1.toUpperCase();
        const w2 = word2.toUpperCase();
        for (let i = 0; i < w1.length; i++) {
            for (let j = 0; j < w2.length; j++) {
                if (w1[i] === w2[j]) {
                    // Huruf yang sama ditemukan, kembalikan posisinya
                    return { mendatarIndex: i, menurunIndex: j };
                }
            }
        }
        // Jika loop selesai tanpa menemukan huruf yang sama
        return null;
    }

    function updateGuide(type) {
        const guides = {
            pilihan_ganda: "Pilih satu jawaban yang benar. Anda bisa menambahkan 2-4 pilihan, masing-masing bisa dengan gambar.",
            esai: "Pisahkan variasi jawaban yang diterima dengan tanda ||. Contoh: Soekarno || Ir. Soekarno.",
            pencocokan: "Buat pasangan antara kolom kiri dan kanan. Contoh: Ibu Kota -> Jakarta.",
            susun_kata: "Tuliskan kalimat yang benar. Kata-kata akan diacak saat ditampilkan ke siswa.",
            multi_benar: "Siswa bisa memilih lebih dari satu jawaban. Centang semua jawaban yang dianggap benar.",
            benar_salah: "Tentukan apakah pernyataan pada soal itu Benar atau Salah.",
            // --- PERUBAHAN 2: Panduan untuk TTS Mini diperbarui ---
            tts_mini: "Isi jawaban mendatar dan menurun. Sistem akan otomatis menemukan huruf persilangan. Pastikan kedua kata memiliki minimal satu huruf yang sama."
        };
        guideText.innerHTML = guides[type] || "Pilih tipe soal untuk melihat panduan.";
    }

    // --- Dynamic Form Rendering ---
    function createChoiceRow(index, isChecked = false) { /* ... no change ... */ }
    function renderPilihanGanda() { /* ... no change ... */ }
    function renderEsai() { /* ... no change ... */ }
    function renderPencocokan() { /* ... no change ... */ }
    function renderSusunKata() { /* ... no change ... */ }
    function renderMultiBenar() { /* ... no change ... */ }
    function renderBenarSalah() { /* ... no change ... */ }

    // --- PERUBAHAN 3: Form TTS Mini disederhanakan ---
    function renderTtsMini() { 
      dynamicArea.innerHTML = `
        <div class="section-title">TTS Mini</div>
        <div class="answer-card">
          <label>Jawaban Mendatar</label>
          <input id="tts-mendatar" placeholder="Contoh: BOLA">
          <label style="margin-top:10px">Jawaban Menurun</label>
          <input id="tts-menurun" placeholder="Contoh: KOTAK">
          <!-- Kolom input index dihapus dari sini -->
          <label style="margin-top:10px">Alasan</label>
          <textarea id="tts-reason" placeholder="Alasan umum jika jawaban benar"></textarea>
        </div>`; 
    }

    function renderDynamic() {
      const t = tipeSoal.value;
      updateGuide(t);
      pendingUploads.optionImages = {}; 
      if (t === 'pilihan_ganda') renderPilihanGanda();
      else if (t === 'esai') renderEsai();
      else if (t === 'pencocokan') renderPencocokan();
      else if (t === 'susun_kata') renderSusunKata();
      else if (t === 'multi_benar') renderMultiBenar();
      else if (t === 'benar_salah') renderBenarSalah();
      else if (t === 'tts_mini') renderTtsMini();
    }
    
    // Dynamic event listeners
    dynamicArea.addEventListener('click', (e) => { /* ... no change ... */ });
    dynamicArea.addEventListener('change', (e) => { /* ... no change ... */ });
    
    // --- Auth, Profile & Quota Check ---
    async function checkQuestionQuota(uid) { /* ... no change ... */ }
    async function checkUserData(user) { /* ... no change ... */ }
    onAuthStateChanged(auth, async (user) => { if(user) await checkUserData(user); else window.location.href='index.html'; });

    // --- Form Submit Logic ---
    document.getElementById('question-form').addEventListener('submit', async (e) => {
        e.preventDefault();
        if(!currentUser || btnSave.disabled) return;
        btnSave.disabled = true;
        btnSave.textContent = 'Mengunggah...';

        try {
            let uploadedUrls = { questionImage: null, questionAudio: null, optionImages: {} };
            if(pendingUploads.questionImage) uploadedUrls.questionImage = await uploadToCloudinary(pendingUploads.questionImage, 'image');
            if(pendingUploads.questionAudio) uploadedUrls.questionAudio = await uploadToCloudinary(pendingUploads.questionAudio, 'video');
            for (const index in pendingUploads.optionImages) {
                const file = pendingUploads.optionImages[index];
                uploadedUrls.optionImages[index] = await uploadToCloudinary(file, 'image');
            }
            btnSave.textContent = 'Menyimpan...';

            const data = {
                dibuatOleh: currentUser.uid,
                dibuatPada: Timestamp.now(),
                kategori: document.getElementById('kategori-pilihan').value || null,
                teksPertanyaan: document.getElementById('pertanyaan-teks').value.trim(),
                tipeSoal: tipeSoal.value,
                urlGambar: uploadedUrls.questionImage,
                urlSuara: uploadedUrls.questionAudio,
            };

            const t = tipeSoal.value;
            if (t === 'pilihan_ganda') { /* ... no change ... */ } 
            else if (t === 'esai') {  /* ... no change ... */ } 
            else if (t === 'pencocokan') {  /* ... no change ... */ }
            else if (t === 'susun_kata') {  /* ... no change ... */ }
            else if (t === 'multi_benar') {  /* ... no change ... */ }
            else if (t === 'benar_salah') {  /* ... no change ... */ }
            else if (t === 'tts_mini') {
                const mendatar = document.getElementById('tts-mendatar').value.trim();
                const menurun = document.getElementById('tts-menurun').value.trim();

                if (!mendatar || !menurun) {
                    throw new Error("Jawaban mendatar dan menurun harus diisi.");
                }
                
                // --- PERUBAHAN 4: Logika penyimpanan menggunakan fungsi baru ---
                const intersection = findIntersection(mendatar, menurun);
                
                if (!intersection) {
                    // Jika tidak ada huruf yang sama, lempar error
                    throw new Error("Jawaban mendatar dan menurun harus memiliki minimal satu huruf yang sama.");
                }

                data.jawaban = {
                    mendatar: mendatar,
                    menurun: menurun,
                    mendatarIndex: intersection.mendatarIndex,
                    menurunIndex: intersection.menurunIndex
                };
                data.penjelasanTTS = {
                    semua_benar: document.getElementById('tts-reason').value.trim()
                };
            }

            const batch = writeBatch(db);
            const questionRef = doc(collection(db, 'pertanyaan'));
            batch.set(questionRef, data);
            const creationLogRef = doc(db, 'userData', currentUser.uid, 'questionCreationTimestamp', questionRef.id);
            batch.set(creationLogRef, { timestamp: Timestamp.now() });
            await batch.commit();
            showFormMessage('ok', 'Pertanyaan berhasil disimpan! 🚀');
            document.getElementById('question-form').reset();
            pendingUploads = { questionImage: null, questionAudio: null, optionImages: {} };
            document.getElementById('file-image-name').textContent = 'Belum ada file dipilih';
            document.getElementById('file-audio-name').textContent = 'Belum ada file dipilih';
            renderDynamic();
            await checkQuestionQuota(currentUser.uid);
        } catch (err) {
            console.error(err);
            showFormMessage('err', err.message || 'Gagal menyimpan soal.');
        } finally {
            btnSave.disabled = false;
            btnSave.textContent = 'Simpan Pertanyaan';
        }
    });

    // --- Initial & Reset ---
    renderDynamic();
    tipeSoal.addEventListener('change', renderDynamic);
    document.getElementById('btn-reset').addEventListener('click', ()=>{ 
        document.getElementById('question-form').reset(); 
        pendingUploads = { questionImage: null, questionAudio: null, optionImages: {} };
        document.getElementById('file-image-name').textContent = 'Belum ada file dipilih';
        document.getElementById('file-audio-name').textContent = 'Belum ada file dipilih';
        renderDynamic(); 
    });
</script>
</body>
</html>



